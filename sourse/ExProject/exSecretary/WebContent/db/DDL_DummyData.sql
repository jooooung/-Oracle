-- DROP TABLE
DROP TABLE INBODY;
DROP TABLE BCOMMENT;
DROP TABLE ADMIN;
DROP TABLE EXBOARD;
DROP TABLE EX;
DROP TABLE EXPART;
DROP TABLE MEMBER;
-- DROP SEQUENCE
DROP SEQUENCE INBODY_SEQ;
DROP SEQUENCE BCOMMENT_SEQ;
DROP SEQUENCE EX_SEQ;
DROP SEQUENCE EXBOARD_SEQ;

-- CREATE TABLE & SEQUENCE
    -- ADMIN
CREATE TABLE ADMIN(
    AID VARCHAR2(100) PRIMARY KEY,
    APW VARCHAR2(100) NOT NULL,
    ANAME VARCHAR2(100) NOT NULL
);

    -- MEMBER
CREATE TABLE MEMBER(
    MID VARCHAR2(100) PRIMARY KEY,
    MPW VARCHAR2(100) NOT NULL,
    MNAME VARCHAR2(100) NOT NULL,
    MPHOTO VARCHAR2(100),
    MTEL VARCHAR2(100),
    MEMAIL VARCHAR2(100),
    MGENDER VARCHAR2(10),
    MBIRTH DATE,
    MWITHD VARCHAR2(4) DEFAULT 0 NOT NULL,
    MRDATE DATE
);

    -- INBODY
CREATE TABLE INBODY(
    INUM    NUMBER(4) PRIMARY KEY,
    MID VARCHAR2(100) REFERENCES MEMBER (MID) NOT NULL, 
    IWEIGHT NUMBER(3) NOT NULL,
    IFAT    NUMBER(3),
    IMUSCLE NUMBER(3),
    IDATE DATE DEFAULT SYSDATE NOT NULL
);
CREATE SEQUENCE INBODY_SEQ
    MAXVALUE 9999
    NOCACHE
    NOCYCLE;

    -- ExPART
CREATE TABLE EXPART(
    EpNO NUMBER(3) PRIMARY KEY,
    EpPART VARCHAR2(100) NOT NULL,
    ENAME VARCHAR2(100) NOT NULL
);
    -- EXPART
INSERT INTO EXPART VALUES ('1', '상체', '푸시업');
INSERT INTO EXPART VALUES ('2', '상체', '턱걸이');
INSERT INTO EXPART VALUES ('3', '상체', '덤벨로우');
INSERT INTO EXPART VALUES ('4', '상체', '덤벨컬');
INSERT INTO EXPART VALUES ('5', '상체', '덤벨풀오버');
INSERT INTO EXPART VALUES ('6', '복근', '크런치');
INSERT INTO EXPART VALUES ('7', '복근', '레그레이즈');
INSERT INTO EXPART VALUES ('8', '복근', '시티드니업');
INSERT INTO EXPART VALUES ('9', '복근', '리버스크런치');
INSERT INTO EXPART VALUES ('10', '복근', '크로스크런치');
INSERT INTO EXPART VALUES ('11', '복근', '플랭크 니업');
INSERT INTO EXPART VALUES ('12', '하체', '스쿼트');
INSERT INTO EXPART VALUES ('13', '하체', '펄스스쿼트');
INSERT INTO EXPART VALUES ('14', '하체', '와이드스쿼트');
INSERT INTO EXPART VALUES ('15', '하체', '점프스쿼트');
INSERT INTO EXPART VALUES ('16', '하체', '런지');
INSERT INTO EXPART VALUES ('17', '하체', '백런지');
INSERT INTO EXPART VALUES ('18', '코어', '플랭크');
INSERT INTO EXPART VALUES ('19', '코어', '트위스트플랭크');
INSERT INTO EXPART VALUES ('20', '코어', '포암플랭크');
INSERT INTO EXPART VALUES ('21', '코어', '플랭크');
INSERT INTO EXPART VALUES ('22', '코어', '사이트플랭크');

    -- EX
CREATE TABLE EX(
    EDAY NUMBER(4) PRIMARY KEY,
    MID VARCHAR2(100) REFERENCES MEMBER (MID),
    EPNO NUMBER(3) REFERENCES EXPART (EPNO),
    EWEIGHT NUMBER(3) DEFAULT 0,
    ESET NUMBER(3),
    ECOUNT NUMBER(3),
    ETIME DATE,
    EDATE DATE DEFAULT SYSDATE NOT NULL
);
CREATE SEQUENCE EX_SEQ
    MAXVALUE 9999
    NOCACHE
    NOCYCLE;

    -- EXBOARD
CREATE TABLE EXBOARD(
    BNUM NUMBER(4) PRIMARY KEY,
    MID VARCHAR2(100) REFERENCES MEMBER (MID) NOT NULL, 
    BTITLE VARCHAR2(100) NOT NULL,
    BCONTENT VARCHAR2(4000),
    BPHOTO VARCHAR2(100),
    BDATE DATE DEFAULT SYSDATE NOT NULL,
    BHIT NUMBER(4) DEFAULT 0 NOT NULL,
    BGROUP NUMBER(4) NOT NULL,
    BSTEP NUMBER(4) NOT NULL,
    BINDENT NUMBER(4) NOT NULL,
    BIP VARCHAR2(100) NOT NULL
);
CREATE SEQUENCE EXBOARD_SEQ
    MAXVALUE 9999
    NOCACHE
    NOCYCLE;
    
    -- BCOMMENT
CREATE TABLE BCOMMENT(
    CNUM NUMBER(4) PRIMARY KEY,
    BNUM NUMBER(4) REFERENCES EXBOARD (BNUM) NOT NULL,
    MID VARCHAR2(100) REFERENCES MEMBER (MID) NOT NULL, 
    CCONTENT VARCHAR2(300) NOT NULL,
    CDATE DATE DEFAULT SYSDATE NOT NULL,
    CIP VARCHAR2(100) NOT NULL
);
CREATE SEQUENCE BCOMMENT_SEQ
    MAXVALUE 9999
    NOCACHE
    NOCYCLE;
    
------ DUMMY DATA --------
    -- MEMBER
INSERT INTO MEMBER 
    VALUES ('member1', 'member1', '김수호', null, null, null, 'm', null, '0', sysdate);
INSERT INTO MEMBER 
    VALUES ('member2', 'member2', '박지우', null, '010-2501-2273', 'member2@naver.com', 'f', '1993-04-11', '0', sysdate);
INSERT INTO MEMBER 
    VALUES ('member3', 'member3', '최수영', null, null, null, 'm', null, '0', sysdate);
    
    -- ADMIN
INSERT INTO ADMIN VALUES ('admin', 'admin', '관리자');

    -- EX
INSERT INTO EX 
    VALUES (EX_SEQ.NEXTVAL, 'member1', '1', NULL, '5', '15', NULL, SYSDATE);
INSERT INTO EX 
    VALUES (EX_SEQ.NEXTVAL, 'member2', '2', NULL, '5', '15', NULL, SYSDATE);
INSERT INTO EX 
    VALUES (EX_SEQ.NEXTVAL, 'member3', '3', NULL, '5', '15', NULL, SYSDATE);    

    -- INBODY
INSERT INTO INBODY VALUES (INBODY_SEQ.NEXTVAL, 'member1', '55', '15', '10', SYSDATE);
INSERT INTO INBODY VALUES (INBODY_SEQ.NEXTVAL, 'member2', '50', '17', '13', SYSDATE);
INSERT INTO INBODY VALUES (INBODY_SEQ.NEXTVAL, 'member3', '60', '20', '15', SYSDATE);

    -- EXBOARD
INSERT INTO EXBOARD 
    VALUES (EXBOARD_SEQ.NEXTVAL, 'member1', '운동 힘들어요', '동기부여해주세요', NULL, SYSDATE, 0, EXBOARD_SEQ.CURRVAL, 0, 0, '192.0.0.1');
INSERT INTO EXBOARD 
    VALUES (EXBOARD_SEQ.NEXTVAL, 'member2', '오운완!', '오늘은 상체했네요', NULL, SYSDATE, 0, EXBOARD_SEQ.CURRVAL, 0, 0, '192.0.0.1');
INSERT INTO EXBOARD 
    VALUES (EXBOARD_SEQ.NEXTVAL, 'member3', '덤벨 추천 부탁드려요', '어떤 덤벨이 좋을까요', NULL, SYSDATE, 0, EXBOARD_SEQ.CURRVAL, 0, 0, '192.0.0.1');

    -- BCOMMENT
INSERT INTO BCOMMENT
    VALUES (BCOMMENT_SEQ.NEXTVAL, '1', 'member1', '대단해요!', SYSDATE, '192.3.5.2');

SELECT * FROM MEMBER;
SELECT * FROM ADMIN;
SELECT * FROM EXPART;
SELECT * FROM INBODY;
SELECT * FROM EX;
SELECT * FROM EXBOARD;
SELECT * FROM BCOMMENT;
COMMIT;